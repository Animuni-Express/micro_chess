<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#22c55e">
    <title>Micro Chess - Play Chess Online</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>♟️</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- ========== HEADER SECTION ========== -->
        <div class="header">
            <h1>Micro Chess</h1>
            <p class="tagline">The Ultimate Minimalist Chess Experience</p>
        </div>

        <!-- ========== OVER THE BOARD CARD ========== -->
        <div class="card green" onclick="location.href='over_the_board.html'">
            <h2>Over The Board</h2>
            <p>Play With a friend in a</p>
            <p>Virtual ChessBoard</p>
        </div>

        <!-- ========== STOCKFISH CARD ========== -->
        <div class="card green" onclick="location.href='stockfish.html'">
            <h2>Play With Stockfish</h2>
            <p>Play with the Worlds Best Chess AI</p>
            <p class="status">Beta • Offline Ready</p>
        </div>

        <!-- ========== MULTIPLAYER CARD ========== -->
        <div class="card red disabled">
            <h2>Multiplayer</h2>
            <p>Play with people and friends</p>
            <p class="status">Coming Soon</p>
        </div>

        <!-- ========== FOOTER SECTION ========== -->
        <div class="footer">
            <p onclick="location.href='about.html'">About Micro Chess by Aniket Shenoy</p>
        </div>
    </div>

    <!-- ========== SUPABASE SDK ========== -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase_client.js"></script>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        // Prevent clicking on disabled cards
        document.querySelectorAll('.card.disabled').forEach(card => {
            card.onclick = (e) => {
                e.preventDefault();
                return false;
            };
        });

        // Verify Supabase Initialization
        window.addEventListener('load', () => {
            if (typeof getSupabase === 'function') {
                const supabase = getSupabase();
                if (supabase) {
                    console.log('Supabase is ready on Home page!');
                }
            } else {
                console.error('getSupabase function not found!');
            }
        });
    </script>
    <script>
        if ('serviceWorker' in navigator && (window.location.protocol === 'http:' || window.location.protocol === 'https:')) {
            navigator.serviceWorker.register('sw.js').then(reg => {
                console.log('ServiceWorker registration successful with scope: ', reg.scope);
            }).catch(err => {
                console.warn('ServiceWorker registration failed:', err);
            });
        }
    </script>
</body>

</html>